service: videocloud

provider:
  name: aws
  runtime: nodejs10.x
  stage: ${self:custom.secrets.NODE_ENV}
  region: eu-central-1
  environment:
      NODE_ENV: ${self:custom.secrets.NODE_ENV}

functions:
  server:
    handler: index.server
    events:
        - http: ANY /
        - http: ANY /{proxy+}

plugins:
    - serverless-apigw-binary

custom:
    secrets: ${file(secrets.json)}
    apigwBinary:
        types:
            - "*/*"
